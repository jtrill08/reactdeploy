(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{29:function(e,t,a){},32:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),i=(a(29),a(10)),s=a(40),o=a(20);a(70),a(55);o.initializeApp({apiKey:"AIzaSyAeXetUIIcGrM2k70porcN-CfPfvH63g28",authDomain:"firegram-87377.firebaseapp.com",databaseURL:"https://firegram-87377.firebaseio.com",projectId:"firegram-87377",storageBucket:"firegram-87377.appspot.com",messagingSenderId:"1069714719402",appId:"1:1069714719402:web:a029b7312b32f933cc46d3"});var u=o.storage(),m=o.firestore(),p=o.firestore.FieldValue.serverTimestamp,d=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=m.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(s.a)(Object(s.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return t()}}),[e]),{docs:r}},f=a(13),E=function(e){var t=e.setSelectedImg,a=d("images").docs;return console.log(a),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"img-grid"},a&&a.map((function(e){return r.a.createElement(f.a.div,{className:"img-wrap",key:e.id,layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)}},r.a.createElement(f.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))}))))},b=function(e){var t=e.selectedImg,a=e.setSelectedImg;return r.a.createElement(f.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1}},r.a.createElement(f.a.img,{src:t,alt:"englarged pic",initial:{y:"-100vh"},animate:{y:0}}))},v=function(){return r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,"TODAY'S PROMPT"),r.a.createElement("p1",null,"Fruits"))},g=a(35),h=a.n(g),S=a(44),O=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),s=Object(i.a)(l,2),o=s[0],d=s[1],f=Object(n.useState)(null),E=Object(i.a)(f,2),b=E[0],v=E[1];return Object(n.useEffect)((function(){var t=u.ref(e.name),a=m.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){d(e)}),Object(S.a)(h.a.mark((function e(){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,r=p(),a.add({url:n,createdAt:r}),v(n);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:b,error:o}},j=function(e){var t=e.file,a=e.setFile,c=O(t),l=c.url,i=c.progress;return Object(n.useEffect)((function(){l&&a(null)}),[l,a]),r.a.createElement(f.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}})},y=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),s=Object(i.a)(l,2),o=s[0],u=s[1],m=["image/png","image/jpeg"];return r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&m.includes(t.type)?(c(t),u("")):(c(null),u("Please select an image file (png or jpeg)"))}}),r.a.createElement("span",null,"+")),r.a.createElement("div",{className:"output"},o&&r.a.createElement("div",{className:"error"},o),a&&r.a.createElement("div",null,a.name),a&&r.a.createElement(j,{file:a,setFile:c})))},R=a(73),k=a(74);var w=function(){return r.a.createElement("div",{className:"Nav"},r.a.createElement(R.a,{collapseOnSelect:!0,expand:"xl",variant:"dark"},r.a.createElement(R.a.Brand,{href:"/"},"DRAWW"),r.a.createElement(R.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(R.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(k.a,{className:"mr-auto"}),r.a.createElement(k.a,null,r.a.createElement(k.a.Link,{href:"/CreatePage"},"+ create a page"),r.a.createElement(k.a.Link,{eventKey:2,href:"/Submit"},"submit a prompt")))))},C=a(22),N=a(23),F=a(17),I=a(27),T=a(25),A=(a(32),function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).submitForm=n.submitForm.bind(Object(F.a)(n)),n.state={status:""},n}return Object(N.a)(a,[{key:"render",value:function(){var e=this.state.status;return r.a.createElement("form",{onSubmit:this.submitForm,action:"https://formspree.io/f/xjvpoeon",method:"POST"},r.a.createElement("h1",{class:"heading"}," Want to create your own prompt page? "),r.a.createElement("h2",{class:"heading2"}," Sign up to receive early access :) "),r.a.createElement("label",{type:"emailTitle"},"Email:"),r.a.createElement("input",{type:"email",name:"email"}),"SUCCESS"===e?r.a.createElement("p",null,"Thanks!"):r.a.createElement("button",{type:"submitButton"},"Submit"),"ERROR"===e&&r.a.createElement("p",null,"Ooops! There was an error."))}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var a=e.target,n=new FormData(a),r=new XMLHttpRequest;r.open(a.method,a.action),r.setRequestHeader("Accept","application/json"),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?(a.reset(),t.setState({status:"SUCCESS"})):t.setState({status:"ERROR"}))},r.send(n)}}]),a}(r.a.Component));var D=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).submitForm=n.submitForm.bind(Object(F.a)(n)),n.state={status:""},n}return Object(N.a)(a,[{key:"render",value:function(){var e=this.state.status;return r.a.createElement("form",{onSubmit:this.submitForm,action:"https://formspree.io/f/xjvpoeon",method:"POST"},r.a.createElement("label",{type:"messageTitle"},"Submit a prompt:"),r.a.createElement("input",{type:"text",name:"message"}),"SUCCESS"===e?r.a.createElement("p",null,"Thanks!"):r.a.createElement("button",{type:"submitButton"},"Submit"),"ERROR"===e&&r.a.createElement("p",null,"Ooops! There was an error."))}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var a=e.target,n=new FormData(a),r=new XMLHttpRequest;r.open(a.method,a.action),r.setRequestHeader("Accept","application/json"),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?(a.reset(),t.setState({status:"SUCCESS"})):t.setState({status:"ERROR"}))},r.send(n)}}]),a}(r.a.Component),L=a(34),x=a(4);var H=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(L.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(w,null),r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/",exact:!0,component:function(){return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement(y,null),r.a.createElement(E,{setSelectedImg:c}),a&&r.a.createElement(b,{selectedImg:a,setSelectedImg:c}))}}),r.a.createElement(x.a,{path:"/CreatePage",component:A}),r.a.createElement(x.a,{path:"/Submit",component:D}))))};a(67);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.421cbca6.chunk.js.map